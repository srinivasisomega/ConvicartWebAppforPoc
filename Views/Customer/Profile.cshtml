@model ConvicartWebApp.PresentationLayer.ViewModels.CustomerProfileViewModel

<div class="custom-container rounded bg-white mt-5 mb-5">
    <div class="row">
        <div class="col-md-3 border-right">

            <div class="d-flex-1 flex-column align-items-center text-center p-3 py-5">

                <img src="@Url.Action("GetProfileImage", "Customer", new { id = Model.Customer.CustomerId })"
                      alt="Profile Image" />
                      <br />

                <a asp-controller="Customer" asp-action="UploadProfileImage" class="btn btn-primary profile-button">Upload Image</a>

                <span class="text-black" style="font-size:20px; font-weight:500;">Subscription: @Model.Customer?.Subscription</span>
                <div class="Point-balencediv">
                    <h3 class="text-center-h3" style="margin-top:20px; padding:0px;width:260px; margin-left:40px; margin-right:auto">Points Balance</h3>
                    <a asp-action="DisplayPurchaseForm" asp-controller="Points" class="btn-primary mb-3 profile-button" style="font-size: 0.85rem;padding: 0.2rem 0.7rem;text-decoration: none;text-align: center; border-radius: 5px; width: max-content; margin-left: auto;margin-right:auto; margin-top: 10px;">Purchase more points</a>
                    <h3 class="balence-points" style="padding:0px; margin-left:auto;margin-right:auto">@Model.Customer?.PointBalance</h3>
                </div>
                <br />
                <a asp-action="ChangePassword" class="btn btn-primary profile-button" style="font-size: 0.85rem;padding: 0.2rem 0.7rem;text-decoration: none;text-align: center; border-radius: 5px; width: max-content; margin-left: auto;margin-right:auto; margin-top: 10px;">Change Password</a>

            </div>
        </div>

        <div class="col-md-5 border-right">

            <div class="p-3 py-5">
                <h3 class="text-center">Profile</h3>

                <div class="inrow mt-3">

                    <div class="col-md-6">
                        <p>Name</p> 
                        <h5>@Model.Customer?.Name</h5>
                    </div>

                    <div class="col-md-6">
                        <p>Mobile Number</p>
                        <h5>@Model.Customer?.Number</h5>
                    </div>

                </div>

                <div class="inrow mt-3">
                    <div class="col-md-12">
                        <p>Email</p>
                        <h5>@Model.Customer?.Email</h5>
                    </div>
                </div>

                <div class="inrow mt-3">
                    <div class="col-md-6">
                        <p>Age</p>
                        <h5>@Model.Customer?.Age</h5>
                    </div>

                    <div class="col-md-6">
                        <p>Gender</p>
                        <h5>@Model.Customer?.Gender</h5>
                    </div>

                </div>

                <div class="mt-5 text-center">
                     <a asp-controller="Customer" asp-action="EditProfile" class="btn btn-primary profile-button">Update Profile</a>
                </div>

            </div>

        </div>

        <div class="col-md-4">

            <div class="address-p-3 py-5">
                <h3 class="text-center-h3">Address</h3>
                <a asp-controller="Address" asp-action="CreateOrUpdateAddress" class="btn-add btn-primary mb-3 profile-button">Add/Update Address</a>

                <ul class="list-unstyled">
                    <li>Street: @Model.Address?.StreetAddress</li>
                    <li>City: @Model.Address?.City</li>
                    <li>State: @Model.Address?.State</li>
                    <li>Country: @Model.Address?.Country</li>
                    <li>Postal Code: @Model.Address?.PostalCode</li>
                </ul>

                
            </div>

        </div>
    </div>

    <div class="row-2 mt-5">

        <div class="col-md-12-2">
            <h4 class="text-center" style="color: silver;">Selected Preferences</h4>
            <a asp-controller="Customer" asp-action="UpdatePreference" class="btn-sle-pre btn-primary profile-button">Add/Update Preferences</a>

            <div class="mt-3-pref">

                @if (Model.CustomerPreferences != null && Model.CustomerPreferences.Any())
                {
                    <ul class="d-flex flex-row justify-content-evenly list-unstyled">
                        @foreach (var cp in Model.CustomerPreferences)
                        {
                            <li class="p-3 bg-light rounded">@cp.Preference?.PreferenceName</li>
                        }
                    </ul>
                }
                else
                {
                    <p class="text-center">No preferences selected.</p>
                }
            </div>
        </div>
    </div>
</div>

<style>
    img{
        width :140px;
height:140px;
        border-radius:100%;

    }
    h5{
        margin-bottom:20px;
    }
    .custom-container {
        width: 75%;
        margin: 0 auto; /* Center the container */
    }

        .custom-container > div {
            transform: scale(0.9); /* Scale down the contents */
            transform-origin: top; /* Ensure scaling starts from the top */
        }

    .btn {
        font-size: 0.85rem; /* Slightly reduce button size */
        padding: 0.5rem 1rem; /* Adjust padding for buttons */
    }

    body {
        background: rgb(99, 39, 120);
    }

    .profile-button {
        background: rgb(99, 39, 120);
        box-shadow: none;
        border: none;
    }

        .profile-button:hover {
            background: #682773;
        }

        .profile-button:focus {
            background: #682773;
            box-shadow: none;
        }

        .profile-button:active {
            background: #682773;
            box-shadow: none;
        }

    .labels {
        font-size: 11px;
    }

    .add-experience:hover {
        background: #BA68C8;
        color: #fff;
        cursor: pointer;
        border: solid 1px #BA68C8;
    }   

</style>
